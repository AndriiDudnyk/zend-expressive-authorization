# Zend Expressive Authorization

This component provides authorization abstraction middleware for [PSR-7](https://www.php-fig.org/psr/psr-7/)
applications.

An authorization system needs authentication first. To verify that an identity
has access to something (i.e. is authorized) we need to have an identity,
if authenticated.

You can easily implement an authentication system using [zend-expressive-authentication](https://github.com/zendframework/zend-expressive-authentication)
library. This library provides an `AuthenticationMiddleware` class that verify
credentials using the HTTP request and store an identity as [PSR-7 attribute](https://docs.zendframework.com/zend-expressive/v2/cookbook/passing-data-between-middleware/).

The identity attribute generated by [zend-expressive-authentication](https://github.com/zendframework/zend-expressive-authentication)
is named `Zend\Expressive\Authentication\UserInterface` and it contains a
`UserInterface` object.

```php
namespace Zend\Expressive\Authentication;

interface UserInterface
{
    /**
     * Get the unique user identity (id, username, email address or ...)
     */
    public function getIdentity() : string;
    /**
     * Get all user roles
     *
     * @return Iterable
     */
    public function getRoles() : iterable;
    /**
     * Get a detail $name if present, $default otherwise
     */
    public function getDetail(string $name, $default = null);
    /**
     * Get all the details, if any
     */
    public function getDetails() : array;
}
```

**Zend Expressive Authorization** consumes this identity attribute.
It checks if a user's role (of the `UserInterface` object) is authorized
(granted) to execute the HTTP request.

The authorization is performed using the `isGranted()` function of the [AuthorizationInterface](https://github.com/zendframework/zend-expressive-authorization/blob/master/src/AuthorizationInterface.php).

We offer two adapters: [zend-expressive-authorization-rbac](https://github.com/zendframework/zend-expressive-authorization-rbac)
for implementing a Role-Based Access Control ([RBAC](https://en.wikipedia.org/wiki/Role-based_access_control))
and [zend-expressive-authorization-acl](https://github.com/zendframework/zend-expressive-authorization-acl/)
for implementing an Access Control List ([ACL](https://en.wikipedia.org/wiki/Access_control_list)).

> If you want to know more about authentication using middleware in PHP
> we suggest to read [Authorize users using Middleware](https://framework.zend.com/blog/2017-05-04-authorization-middleware.html)
> blog post.
